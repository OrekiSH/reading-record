## 内存管理
- 在多道程序设计系统中，除了将内存划分给操作系统(驻留监控程序， 内核)与正在执行的程序使用外，还要划分出"用户"部分以满足多个进程的要求，细分的任务由操作系统动态完成， 被称为内存管理
- 固定分区: 程序可能太大无法放入一个分区内，也可能太小使得内存利用率过低(任何程序都需要占据一个完整的分区),这种由于装入数据块小于分区大小而导致分区内部存在空间浪费的现象被称为内部碎片
- 动态分区: 进程装入内存时，系统分配一块与其所需容量完全相等的内存空间，当系统中没有一个就绪进程时换出某个进程，装入某个新进程。随着时间的推移，分区外的存储空间变成了越来越多碎片，被称为外部碎片
- 伙伴系统: 可用内存块大小为2^K, 分配的最小块大小为2^L, 分配的最大块大小为2^U(通常为可供分配的整个内存大小), L ≤ K ≤ U 
- 分页: 内存和进程都被划分为大小相同且固定的块, 内存中的块被称为页框(frame), 进程中的块被称为页(page)

## 虚拟内存
- 虚拟内存是硬件异常，硬件地址翻译，主存，磁盘文件和内核软件的完美交互，为每个进程提供了一个大的，一致的和私有的地址空间
- 虚拟内存可以创建和销毁内存片(chunk), 将内存片映射到磁盘文件的某个部分
- 每次应用程序引用一个变量，间接引用一个指针或者调用诸如`malloc`这样的动态分配程序是，它就会和虚拟内存发生交互
- 物理寻址: 计算机的主存被组织成M个连续字节大小的数组，当CPU执行加载指令时，生成一个有效的物理地址，通过内存总线传递给主存。主存取出从物理地址(PA)x开始的m字节字返回给CPU，CPU将它存放在一个寄存器中
- 虚拟寻址: 通过内存管理单元(MMU)将一个虚拟地址(VA)转换为物理地址的任务被称为地址翻译
- 虚拟页(VP)的集合在任意时刻都被分为三个不相交的子集: 未分配的页，已缓存在物理内存中的已分配页(对应DRAM中的物理页, PP)，未缓存在物理内存中的已分配页
- 页表: 页表就是一个页表条目(Page Table Entry, PTE)的数组, 虚拟内存空间中的每个页在页表中一个固定偏移量处都有一个PTE
- SRAM缓存: 位于CPU和主存之间的L1,L2,L3高速缓存; DRAM缓存: 虚拟内存系统的缓存
- DRAM比SRAM慢10倍，磁盘比DRAM慢10万倍，因此DRAM缓存的不命中比SRAM缓存的不命中昂贵的多; DRAM缓存不命中被称为缺页(page fault)
